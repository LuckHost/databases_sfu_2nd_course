# **Ð˜Ð½Ð´ÐµÐºÑ Ð² Ð±Ð°Ð·Ð°Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…: Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ðµ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ**

## **Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Ð¸Ð½Ð´ÐµÐºÑ?**  
**Ð˜Ð½Ð´ÐµÐºÑ** â€” ÑÑ‚Ð¾ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ ÑƒÑÐºÐ¾Ñ€ÑÐµÑ‚ Ð¿Ð¾Ð¸ÑÐº Ð¸ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÑƒ Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°Ñ… Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ….  

ðŸ‘‰ **ÐÐ½Ð°Ð»Ð¾Ð³Ð¸Ñ Ð¸Ð· Ð¶Ð¸Ð·Ð½Ð¸:**  
ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ½Ð¸Ð³Ñƒ Ð±ÐµÐ· Ð¾Ð³Ð»Ð°Ð²Ð»ÐµÐ½Ð¸Ñ. Ð§Ñ‚Ð¾Ð±Ñ‹ Ð½Ð°Ð¹Ñ‚Ð¸ Ð½ÑƒÐ¶Ð½ÑƒÑŽ Ð³Ð»Ð°Ð²Ñƒ, Ð²Ð°Ð¼ Ð¿Ñ€Ð¸Ð´ÐµÑ‚ÑÑ Ð»Ð¸ÑÑ‚Ð°Ñ‚ÑŒ Ð²ÑÐµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð¿Ð¾Ð´Ñ€ÑÐ´. ÐÐ¾ ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ **Ð¾Ð³Ð»Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ (Ð¸Ð½Ð´ÐµÐºÑ)**, Ð²Ñ‹ ÑÑ€Ð°Ð·Ñƒ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚Ðµ Ð½ÑƒÐ¶Ð½Ñ‹Ð¹ Ñ€Ð°Ð·Ð´ÐµÐ».  

## **ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¸Ð½Ð´ÐµÐºÑ?**  
1. **Ð‘ÐµÐ· Ð¸Ð½Ð´ÐµÐºÑÐ°** â†’ Ð¡Ð£Ð‘Ð” ÑÐºÐ°Ð½Ð¸Ñ€ÑƒÐµÑ‚ Ð²ÑÑŽ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ (Sequential Scan / Full Table Scan).  
2. **Ð¡ Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð¼** â†’ Ð¡Ð£Ð‘Ð” Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº (Index Scan).  

### **ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð² PostgreSQL**
```sql
-- Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð¸Ð½Ð´ÐµÐºÑ Ð¿Ð¾ ÑÑ‚Ð¾Ð»Ð±Ñ†Ñƒ `username`
CREATE INDEX idx_users_username ON users(username);

-- Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ:
SELECT * FROM users WHERE username = 'ivanov';
```

## **Ð¢Ð¸Ð¿Ñ‹ Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð² (PostgreSQL)**
| Ð¢Ð¸Ð¿ Ð¸Ð½Ð´ÐµÐºÑÐ° | ÐšÐ¾Ð³Ð´Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ | ÐŸÑ€Ð¸Ð¼ÐµÑ€ |
|-------------|-------------------|--------|
| **B-tree** (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ) | Ð”Ð»Ñ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ð¹ (`=`, `>`, `<`, `LIKE 'abc%'`) | `CREATE INDEX idx_name ON table(column);` |
| **Hash** | Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ð¾Ñ‡Ð½Ñ‹Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸Ñ (`=`) | `CREATE INDEX idx_name ON table USING HASH(column);` |
| **GIN** | Ð”Ð»Ñ Ð¼Ð°ÑÑÐ¸Ð²Ð¾Ð², JSON, Ð¿Ð¾Ð»Ð½Ð¾Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾Ð¸ÑÐºÐ° | `CREATE INDEX idx_gin ON table USING GIN(json_column);` |
| **GiST/SP-GiST** | Ð“ÐµÐ¾Ð´Ð°Ð½Ð½Ñ‹Ðµ, ÑÐ»Ð¾Ð¶Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ | `CREATE INDEX idx_gist ON table USING GiST(geom);` |
| **BRIN** | Ð”Ð»Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ñ… Ñ‚Ð°Ð±Ð»Ð¸Ñ† Ñ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¾Ð¹ | `CREATE INDEX idx_brin ON table USING BRIN(date_column);` |

## **ÐšÐ¾Ð³Ð´Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð½Ð´ÐµÐºÑÑ‹?**  
âœ… **Ð”Ð°, Ð½ÑƒÐ¶ÐµÐ½ Ð¸Ð½Ð´ÐµÐºÑ:**  
- Ð§Ð°ÑÑ‚Ñ‹Ðµ Ð¿Ð¾Ð¸ÑÐºÐ¸ (`WHERE`, `JOIN`).  
- Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ° (`ORDER BY`).  
- Ð£Ð½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ (`PRIMARY KEY`, `UNIQUE`).  

âŒ **ÐÐµÑ‚, Ð½Ðµ Ð½ÑƒÐ¶ÐµÐ½ (Ð¸Ð»Ð¸ Ð²Ñ€ÐµÐ´ÐµÐ½):**  
- Ð§Ð°ÑÑ‚Ñ‹Ðµ Ð²ÑÑ‚Ð°Ð²ÐºÐ¸/Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ (Ð·Ð°Ð¼ÐµÐ´Ð»ÑÐµÑ‚ Ð·Ð°Ð¿Ð¸ÑÑŒ).  
- ÐœÐ°Ð»ÐµÐ½ÑŒÐºÐ¸Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ (ÑÐºÐ°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ).  
- Ð¡Ñ‚Ð¾Ð»Ð±Ñ†Ñ‹ Ñ **Ð½Ð¸Ð·ÐºÐ¾Ð¹ ÑÐµÐ»ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒÑŽ** (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, `gender` â€” Ð²ÑÐµÐ³Ð¾ 2-3 Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ).  

## **ÐŸÐ»ÑŽÑÑ‹ Ð¸ Ð¼Ð¸Ð½ÑƒÑÑ‹**  
âœ” **ÐŸÐ»ÑŽÑÑ‹:**  
- Ð£ÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ `SELECT` (Ð¸Ð½Ð¾Ð³Ð´Ð° Ð² 100+ Ñ€Ð°Ð·).  
- ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ `JOIN` Ð¸ `ORDER BY`.  

âœ– **ÐœÐ¸Ð½ÑƒÑÑ‹:**  
- Ð—Ð°Ð½Ð¸Ð¼Ð°ÑŽÑ‚ Ð¼ÐµÑÑ‚Ð¾ Ð½Ð° Ð´Ð¸ÑÐºÐµ.  
- Ð—Ð°Ð¼ÐµÐ´Ð»ÑÑŽÑ‚ `INSERT`, `UPDATE`, `DELETE` (Ð¸Ð½Ð´ÐµÐºÑ Ñ‚Ð¾Ð¶Ðµ Ð½Ð°Ð´Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒ).  

## **ÐšÐ°Ðº Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð»Ð¸ Ð¸Ð½Ð´ÐµÐºÑ?**  
```sql
EXPLAIN ANALYZE SELECT * FROM users WHERE username = 'ivanov';
```
ðŸ‘‰ Ð•ÑÐ»Ð¸ Ð² Ð²Ñ‹Ð²Ð¾Ð´Ðµ ÐµÑÑ‚ÑŒ **`Index Scan`** â€” Ð¸Ð½Ð´ÐµÐºÑ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚.  

### **Ð’Ñ‹Ð²Ð¾Ð´**  
Ð˜Ð½Ð´ÐµÐºÑÑ‹ â€” ÑÑ‚Ð¾ **ÑƒÑÐºÐ¾Ñ€Ð¸Ñ‚ÐµÐ»Ð¸ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²**, Ð½Ð¾ Ð¸Ñ… Ð½ÑƒÐ¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ ÑƒÐ¼Ð¾Ð¼. Ð¥Ð¾Ñ€Ð¾ÑˆÐ¸Ð¹ Ð¸Ð½Ð´ÐµÐºÑ â€” ÑÑ‚Ð¾ Ð±Ð°Ð»Ð°Ð½Ñ Ð¼ÐµÐ¶Ð´Ñƒ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒÑŽ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ Ð¸ Ð·Ð°Ñ‚Ñ€Ð°Ñ‚Ð°Ð¼Ð¸ Ð½Ð° Ð·Ð°Ð¿Ð¸ÑÑŒ.