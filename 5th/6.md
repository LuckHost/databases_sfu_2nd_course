# Анализ смещения данных при выводе в PostgreSQL

Проблема смещения вправо вновь введенных значений в столбце `model` связана с особенностями форматирования вывода в psql и различиями в длине строк.

## Причина смещения

1. **Выравнивание столбцов**:
   - Клиент psql по умолчанию выравнивает данные по левому краю
   - Ширина столбца определяется по самой длинной строке в результатах

2. **Разная длина строк**:
   - В исходных данных модели самолетов имеют разную длину
   - Например, "Cessna 208 Caravan" короче, чем "Ilyushin IL96-300"
   - Более длинные строки задают ширину для всего столбца

3. **Форматирование вывода**:
   - Более короткие строки дополняются пробелами справа для выравнивания
   - Это создает визуальное впечатление "смещения вправо"

## Наглядный пример

```
model           |
----------------|
Cessna 208 Caravan   | <- На самом деле пробелов нет, они добавлены при выводе
Ilyushin IL96-300| <- Эта строка задает ширину столбца
```

## Как проверить реальные данные?

Используйте `\x` для переключения в расширенный режим вывода или добавьте кавычки:

```sql
SELECT aircraft_code, '"' || model || '"' AS quoted_model, range 
FROM aircrafts_tmp;
```

## Решение "проблемы"

Это не ошибка данных, а особенность отображения. Если нужно убрать визуальное смещение:

1. Используйте функцию `trim()`:
   ```sql
   SELECT aircraft_code, trim(model) AS model, range FROM aircrafts_tmp;
   ```

2. Или измените формат вывода в psql:
   ```sql
   \x on  -- Включить вертикальный вывод
   SELECT * FROM aircrafts_tmp;
   \x off -- Вернуться к табличному выводу
   ```

3. Либо укажите фиксированную ширину столбца:
   ```sql
   \pset format wrapped
   \pset columns 40
   SELECT * FROM aircrafts_tmp;
   ```

Данные в таблице хранятся корректно, смещение - чисто визуальный эффект форматирования вывода.